(self.webpackChunkweb=self.webpackChunkweb||[]).push([[8],{3008:function(e,t,n){"use strict";n.r(t),n.d(t,{MainComponent:function(){return mt},MainState:function(){return _t},useMainAction:function(){return Nt}});var r,o,a,l,i,u,c,s,_,N,m,f,E=n(2804),A=n(6237),I=n(7294),O=n(895),d=n(5981),T=n(980),S=n(4096),p=n(5977),g=n(9364),U=n(8017),H=(n(4405),I.memo((function(e){var t=e.children,n=e.icon,r=e.link,o=(0,p.useHistory)(),a=(0,p.useLocation)(),l=a.pathname===r||"/"!==r&&a.pathname.includes(r),i=(0,T.useColorModeValue)("yellow.500","yellow.500");return I.createElement(g.z,{_hover:{background:"transparent"},_focus:{boxShadow:"none",background:"transparent"},onClick:function(){o.push(r)},variant:"ghost",color:l?i:void 0},I.createElement(S.k,{flexDirection:"column",alignItems:"center"},I.createElement(n,{fontSize:"22px"}),I.createElement(U.xu,{mt:1,fontWeight:"normal"},t)))}))),y=n(1649),h=n(7516),G=n(9583),C=I.memo((function(){var e=(0,T.useColorModeValue)("gray.100","gray.700");return I.createElement(I.Fragment,null,I.createElement(S.k,{shadow:"lg",position:"fixed",w:"100%",bottom:0,left:0,zIndex:10,justifyContent:"space-between",alignItems:"center",px:8,py:3,backgroundColor:e},I.createElement(H,{link:"/",icon:y.wz7},"主頁"),I.createElement(H,{link:"/list",icon:G.Kth},"地區"),I.createElement(H,{link:"/restaurant/create",icon:h.S7m},"新增"),I.createElement(H,{link:"/setting",icon:y.Fnt},"設定")))})),v=n(4354),L=n(336),R=n(9444),K=function(e){return e(E.default.useRecoilValue(oe))},W=n(3727),M=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=x(e,["value"]),r=t;return I.createElement(F,b({value:r},n))},t}(I.PureComponent),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l},k=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nullValue="@@NULL",t}return w(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.value,r=t.onChange,o=t.list,a=t.nullText,l=t.translator,i=void 0===l?function(e){return e}:l,u=null===n?this.nullValue:n,c=k([],Y(o));c.splice(0,0,this.nullValue);return I.createElement(F,{value:u,onChange:function(t){return r(t===e.nullValue?null:t)},list:c,translator:function(t){return t===e.nullValue?null!=a?a:"全部":i(t)}})},t}(I.PureComponent),j=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(e){var n=e.target.value;t.props.onChange(n)},t}return j(t,e),t.prototype.getValue=function(){var e=this.props.value;if(null!==e)return e},t.prototype.render=function(){var e=this.props,t=e.list,n=e.translator,r=void 0===n?function(e){return e}:n,o="dark"===localStorage.getItem("chakra-ui-color-mode")?"gray.700":"white";return I.createElement(T.Select,{backgroundColor:o,onChange:this.onChange,value:this.getValue()},t.map((function(e,t){return I.createElement("option",{value:e,key:t},r(e))})))},t.InitialNullable=D,t.Nullable=P,t}(I.PureComponent);!function(e){e.ASIS_WORLD_EXPO="ASIS_WORLD_EXPO",e.AIRPORT="AIRPORT",e.TSING_YI="TSING_YI",e.KOWNLOON="KOWNLOON",e.HONG_KONG="HONG_KONG"}(o||(o={})),function(e){e.SUNNY_BAY="SUNNY_BAY",e.DISNEYLAND_RESORT="DISNEYLAND_RESORT"}(a||(a={})),function(e){e.HUNG_HOM="HUNG_HOM",e.MONG_KOK_EAST="MONG_KOK_EAST",e.KOWLOON_TONG="KOWLOON_TONG",e.TAI_WAI="TAI_WAI",e.SHA_TIN="SHA_TIN",e.FO_TAN="FO_TAN",e.RACECOURSE="RACECOURSE",e.UNIVERSITY="UNIVERSITY",e.TAI_PO_MARKET="TAI_PO_MARKET",e.TAI_WO="TAI_WO",e.FANLING="FANLING",e.SHEUNG_SHUI="SHEUNG_SHUI",e.LO_WU="LO_WU",e.LOK_MA_CHAU="LOK_MA_CHAU"}(l||(l={})),function(e){e.KENNEDY_TOWN="KENNEDY_TOWN",e.HKU="HKU",e.SAI_YING_PUN="SAI_YING_PUN",e.SHEUNG_WAN="SHEUNG_WAN",e.CENTRAL="CENTRAL",e.ADMIRALTY="ADMIRALTY",e.WAN_CHAI="WAN_CHAI",e.CAUSEWAY_BAY="CAUSEWAY_BAY",e.TIN_HAU="TIN_HAU",e.FORTRESS_HILL="FORTRESS_HILL",e.NORTH_POINT="NORTH_POINT",e.QUARRY_BAY="QUARRY_BAY",e.TAI_KOO="TAI_KOO",e.SAI_WAN_HO="SAI_WAN_HO",e.SHAU_KEI_WAN="SHAU_KEI_WAN",e.HENG_FA_CHUEN="HENG_FA_CHUEN",e.CHAI_WAN="CHAI_WAN"}(i||(i={})),function(e){e.WHAMPOA="WHAMPOA",e.HO_MAN_TIN="HO_MAN_TIN",e.YAU_MA_TEI="YAU_MA_TEI",e.MONG_KOK="MONG_KOK",e.PRINCE_EDWARD="PRINCE_EDWARD",e.SHEK_KIP_MEI="SHEK_KIP_MEI",e.KOWLOON_TONG="KOWLOON_TONG",e.LOK_FU="LOK_FU",e.WONG_TAI_SIN="WONG_TAI_SIN",e.DIAMOND_HILL="DIAMOND_HILL",e.CHOI_HUNG="CHOI_HUNG",e.KOWLOON_BAY="KOWLOON_BAY",e.NGAU_TAU_KOK="NGAU_TAU_KOK",e.KWUN_TONG="KWUN_TONG",e.LAM_TIN="LAM_TIN",e.YAU_TONG="YAU_TONG",e.TIU_KENG_LENG="TIU_KENG_LENG"}(u||(u={})),function(e){e.ADMIRALTY="ADMIRALTY",e.OCEAN_PARK="OCEAN_PARK",e.WONG_CHUK_HANG="WONG_CHUK_HANG",e.LEI_TUNG="LEI_TUNG",e.SOUTH_HORIZONS="SOUTH_HORIZONS"}(c||(c={})),function(e){e.NORTH_POINT="NORTH_POINT",e.QUARRY_BAY="QUARRY_BAY",e.YAU_TONG="YAU_TONG",e.TIU_KENG_LENG="TIU_KENG_LENG",e.TSEUNG_KWAN_O="TSEUNG_KWAN_O",e.HANG_HAU="HANG_HAU",e.PO_LAM="PO_LAM",e.LOHAS_PARK="LOHAS_PARK"}(s||(s={})),function(e){e.CENTRAL="CENTRAL",e.ADMIRALTY="ADMIRALTY",e.TSIM_SHA_TSUI="TSIM_SHA_TSUI",e.JORDAN="JORDAN",e.YAU_MA_TEI="YAU_MA_TEI",e.MONG_KOK="MONG_KOK",e.PRINCE_EDWARD="PRINCE_EDWARD",e.SHAM_SHUI_PO="SHAM_SHUI_PO",e.CHEUNG_SHA_WAN="CHEUNG_SHA_WAN",e.LAI_CHI_KOK="LAI_CHI_KOK",e.MEI_FOO="MEI_FOO",e.LAI_KING="LAI_KING",e.KWAI_FONG="KWAI_FONG",e.KWAI_HING="KWAI_HING",e.TAI_WO_HAU="TAI_WO_HAU",e.TSUEN_WAN="TSUEN_WAN"}(_||(_={})),function(e){e.KAI_TAK="KAI_TAK",e.DIAMOND_HILL="DIAMOND_HILL",e.HIN_KENG="HIN_KENG",e.TAI_WAI="TAI_WAI",e.CHE_KUNG_TEMPLE="CHE_KUNG_TEMPLE",e.SHA_TIN_WAI="SHA_TIN_WAI",e.CITY_ONE="CITY_ONE",e.SHEK_MUN="SHEK_MUN",e.TAI_SHUI_HANG="TAI_SHUI_HANG",e.HENG_ON="HENG_ON",e.MA_ON_SHAN="MA_ON_SHAN",e.WU_KAI_SHA="WU_KAI_SHA"}(N||(N={})),function(e){e.HONG_KONG="HONG_KONG",e.KOWLOON="KOWLOON",e.OLYMPIC="OLYMPIC",e.NAM_CHEONG="NAM_CHEONG",e.LAI_KING="LAI_KING",e.TSING_YI="TSING_YI",e.SUNNY_BAY="SUNNY_BAY",e.TUNG_CHUNG="TUNG_CHUNG"}(m||(m={})),function(e){e.TUEN_MUN="TUEN_MUN",e.SIU_HONG="SIU_HONG",e.TIN_SHUI_WAI="TIN_SHUI_WAI",e.LONG_PING="LONG_PING",e.YUEN_LONG="YUEN_LONG",e.KAM_SHEUNG_ROAD="KAM_SHEUNG_ROAD",e.TSUEN_WAN_WEST="TSUEN_WAN_WEST",e.MEI_FOO="MEI_FOO",e.NAM_CHEONG="NAM_CHEONG",e.AUSTIN="AUSTIN",e.EAST_TSIM_SHA_TSUI="EAST_TSIM_SHA_TSUI",e.HUNG_HOM="HUNG_HOM"}(f||(f={}));var z=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l},B=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function V(){var e=v.EnumUtil.toArray(o),t=v.EnumUtil.toArray(a),n=v.EnumUtil.toArray(l),r=v.EnumUtil.toArray(i),E=v.EnumUtil.toArray(u),A=v.EnumUtil.toArray(c),I=v.EnumUtil.toArray(s),O=v.EnumUtil.toArray(_),d=v.EnumUtil.toArray(N),T=v.EnumUtil.toArray(m),S=v.EnumUtil.toArray(f);return Array.from(new Set(B(B(B(B(B(B(B(B(B(B(B([],z(e)),z(t)),z(n)),z(r)),z(E)),z(A)),z(I)),z(O)),z(d)),z(T)),z(S))))}function J(){var e=v.EnumUtil.toArray(i),t=v.EnumUtil.toArray(c);return Array.from(new Set(B(B([m.HONG_KONG],z(e)),z(t))))}function X(){var e=[_.KWAI_FONG,_.KWAI_HING,_.TAI_WO_HAU,_.TSUEN_WAN,_.ADMIRALTY,_.CENTRAL],t=v.EnumUtil.toArray(_).filter((function(t){return!e.includes(t)})),n=[m.TSING_YI,m.SUNNY_BAY,m.TUNG_CHUNG,m.HONG_KONG],r=v.EnumUtil.toArray(m).filter((function(e){return!n.includes(e)})),o=[f.TUEN_MUN,f.SIU_HONG,f.TIN_SHUI_WAI,f.LONG_PING,f.YUEN_LONG,f.KAM_SHEUNG_ROAD,f.TSUEN_WAN_WEST],a=v.EnumUtil.toArray(f).filter((function(e){return!o.includes(e)})),i=[u.TIU_KENG_LENG],c=v.EnumUtil.toArray(u).filter((function(e){return!i.includes(e)})),E=[N.DIAMOND_HILL,N.KAI_TAK],A=[l.HUNG_HOM,l.MONG_KOK_EAST,l.KOWLOON_TONG],I=[s.YAU_TONG];return Array.from(new Set(B(B(B(B(B(B(B([],z(t)),z(r)),z(a)),z(c)),z(E)),z(A)),z(I))))}var Q,Z=Object.freeze({getAllLocation:V,getKowloonLocation:X,getIslandLocation:J,getNewTerritoriesLocation:function(){var e=X(),t=J();return V().filter((function(n){return!B(B([],z(e)),z(t)).includes(n)}))},translate:function(e){switch(e){case o.AIRPORT:return"機場";case o.ASIS_WORLD_EXPO:return"博覽館";case o.TSING_YI:return"青衣";case o.KOWNLOON:return"九龍";case o.HONG_KONG:return"香港";case a.DISNEYLAND_RESORT:return"迪士尼";case a.SUNNY_BAY:return"欣澳";case l.HUNG_HOM:return"紅磡";case l.MONG_KOK_EAST:return"旺角東";case l.KOWLOON_TONG:return"九龍塘";case l.TAI_WAI:return"大圍";case l.SHA_TIN:return"沙田";case l.FO_TAN:return"火炭";case l.RACECOURSE:return"馬場";case l.UNIVERSITY:return"大學";case l.TAI_PO_MARKET:return"大埔墟";case l.TAI_WO:return"太和";case l.FANLING:return"粉嶺";case l.SHEUNG_SHUI:return"上水";case l.LO_WU:return"羅湖";case l.LOK_MA_CHAU:return"落馬洲";case i.KENNEDY_TOWN:return"堅尼地城";case i.HKU:return"香港大學";case i.SAI_YING_PUN:return"西營盤";case i.SHEUNG_WAN:return"上環";case i.CENTRAL:return"中環";case i.ADMIRALTY:return"金鐘";case i.WAN_CHAI:return"灣仔";case i.CAUSEWAY_BAY:return"銅鑼灣";case i.TIN_HAU:return"天后";case i.FORTRESS_HILL:return"炮台山";case i.NORTH_POINT:return"北角";case i.QUARRY_BAY:return"鰂魚涌";case i.TAI_KOO:return"太古";case i.SAI_WAN_HO:return"西灣河";case i.SHAU_KEI_WAN:return"筲箕灣";case i.HENG_FA_CHUEN:return"杏花邨";case i.CHAI_WAN:return"柴灣";case u.WHAMPOA:return"黃埔";case u.HO_MAN_TIN:return"何文田";case u.YAU_MA_TEI:return"油麻地";case u.MONG_KOK:return"旺角";case u.PRINCE_EDWARD:return"太子";case u.SHEK_KIP_MEI:return"石硤尾";case u.KOWLOON_TONG:return"九龍塘";case u.LOK_FU:return"樂富";case u.WONG_TAI_SIN:return"黃大仙";case u.DIAMOND_HILL:return"鑽石山";case u.CHOI_HUNG:return"彩虹";case u.KOWLOON_BAY:return"九龍灣";case u.NGAU_TAU_KOK:return"牛頭角";case u.KWUN_TONG:return"觀塘";case u.LAM_TIN:return"藍田";case u.YAU_TONG:return"油塘";case u.TIU_KENG_LENG:return"調景嶺";case c.ADMIRALTY:return"金鐘";case c.OCEAN_PARK:return"海洋公園";case c.WONG_CHUK_HANG:return"黃竹坑";case c.LEI_TUNG:return"利東";case c.SOUTH_HORIZONS:return"海怡半島";case s.NORTH_POINT:return"北角";case s.QUARRY_BAY:return"鰂魚涌";case s.YAU_TONG:return"油塘";case s.TIU_KENG_LENG:return"調景嶺";case s.TSEUNG_KWAN_O:return"將軍澳";case s.HANG_HAU:return"坑口";case s.PO_LAM:return"寶琳";case s.LOHAS_PARK:return"康城";case _.CENTRAL:return"中環";case _.ADMIRALTY:return"金鐘";case _.TSIM_SHA_TSUI:return"尖沙嘴";case _.JORDAN:return"佐敦";case _.YAU_MA_TEI:return"油麻地";case _.MONG_KOK:return"旺角";case _.PRINCE_EDWARD:return"太子";case _.SHAM_SHUI_PO:return"深水埗";case _.CHEUNG_SHA_WAN:return"長沙灣";case _.LAI_CHI_KOK:return"荔枝角";case _.MEI_FOO:return"美孚";case _.LAI_KING:return"荔景";case _.KWAI_FONG:return"葵芳";case _.KWAI_HING:return"葵興";case _.TAI_WO_HAU:return"大窩口";case _.TSUEN_WAN:return"荃灣";case N.KAI_TAK:return"啟德";case N.DIAMOND_HILL:return"鑽石山";case N.HIN_KENG:return"顯徑";case N.TAI_WAI:return"大圍";case N.CHE_KUNG_TEMPLE:return"車公廟";case N.SHA_TIN_WAI:return"沙田圍";case N.CITY_ONE:return"第一城";case N.SHEK_MUN:return"石門";case N.TAI_SHUI_HANG:return"大水坑";case N.HENG_ON:return"恆安";case N.MA_ON_SHAN:return"馬鞍山";case N.WU_KAI_SHA:return"烏溪沙";case m.HONG_KONG:return"香港";case m.KOWLOON:return"九龍";case m.OLYMPIC:return"奧運";case m.NAM_CHEONG:return"南昌";case m.LAI_KING:return"荔景";case m.TSING_YI:return"青衣";case m.SUNNY_BAY:return"欣澳";case m.TUNG_CHUNG:return"東涌";case f.HUNG_HOM:return"紅磡";case f.EAST_TSIM_SHA_TSUI:return"尖東";case f.AUSTIN:return"柯士甸";case f.NAM_CHEONG:return"南昌";case f.MEI_FOO:return"美孚";case f.TSUEN_WAN_WEST:return"荃灣西";case f.KAM_SHEUNG_ROAD:return"錦上路";case f.YUEN_LONG:return"元朗";case f.LONG_PING:return"朗屏";case f.TIN_SHUI_WAI:return"天水圍";case f.SIU_HONG:return"兆康";case f.TUEN_MUN:return"屯門"}},getAirportExpressLine:function(){return v.EnumUtil.toArray(o)},getDisneylandResortLine:function(){return v.EnumUtil.toArray(a)},getEastRailLine:function(){return v.EnumUtil.toArray(l)},getIslandLine:function(){return v.EnumUtil.toArray(i)},getKwunTongLine:function(){return v.EnumUtil.toArray(u)},getSouthIslandLine:function(){return v.EnumUtil.toArray(c)},getTseungKwanOLine:function(){return v.EnumUtil.toArray(s)},getTsuenWanLine:function(){return v.EnumUtil.toArray(_)},getTuenMaLinePhaseOne:function(){return v.EnumUtil.toArray(N)},getTungChungLine:function(){return v.EnumUtil.toArray(m)},getWestRailLine:function(){return v.EnumUtil.toArray(f)}}),q="@@EatWhatGood_";!function(e){e.SETTING_DISTRICT="SETTING_DISTRICT",e.HOME="HOME",e.RESTAURANT="RESTAURANT"}(Q||(Q={}));var $=Object.freeze({getItem:function(e){var t=localStorage.getItem(q+e);return t?JSON.parse(t):null},setItem:function(e,t){return localStorage.setItem(q+e,t)}}),ee=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.allowNull,o=n.onChange,a=n.value,l=n.nullText,i=null!==(t=null===(e=$.getItem(Q.SETTING_DISTRICT))||void 0===e?void 0:e.enabledDistrict)&&void 0!==t?t:[];return r?I.createElement(F.Nullable,{list:i,translator:Z.translate,value:a,nullText:l,onChange:o}):I.createElement(F.InitialNullable,{value:a,list:i,onChange:o,translator:Z.translate})},t}(I.PureComponent),ne=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l},re=I.memo((function(){var e,t,n=K((function(e){return e.selectedDistrict})),r=K((function(e){return e.restaurant.filter((function(e){return!!n&&e.district.includes(n)}))})),o=null!==(t=null===(e=$.getItem(Q.SETTING_DISTRICT))||void 0===e?void 0:e.enabledDistrict)&&void 0!==t?t:[],a=ne(I.useState(""),2),l=a[0],i=a[1],u=ne(I.useState(!1),2),c=u[0],s=u[1],_=ae().updateState,N=function(){var e=Math.floor(Math.random()*r.length),t=r[e].name;i(t)};return I.createElement(S.k,{flexDirection:"column",flex:1,overflow:"hidden"},I.createElement(U.xu,{mt:24,px:6},I.createElement(L.X,{fontSize:"xl"},"歡迎回來，"),I.createElement(L.X,null,"今日食咩好？"),I.createElement(U.xu,{mt:4},I.createElement(te,{allowNull:!0,nullText:"請選擇",value:n,onChange:function(e){return _({selectedDistrict:e})}})),I.createElement(U.xu,{mt:4},I.createElement(g.z,{disabled:!r.length,onClick:function(){var e,t,n,o,a;r.length&&(s(!1),e=N,t=10,n=30,o=0,a=function(){--n>0&&(window.setTimeout(a,++o*t),e())},window.setTimeout(a,t),setTimeout((function(){s(!0)}),4e3))},fontWeight:"medium",backgroundColor:"yellow.500",isFullWidth:!0,h:"60px"},"幫我揀食咩")),I.createElement(L.X,{textAlign:"center",mt:4,color:c?"yellow.500":void 0},l),!o.length&&I.createElement(U.xu,{borderRadius:"10px",backgroundColor:"green.700",mt:12,p:4,borderWidth:"1px",borderColor:"green.500",color:"white"},"冇地區揀？",I.createElement("br",null),"前往 ",I.createElement(R.r,{textDecoration:"underline",to:"/setting/district",as:W.NavLink},"地區列表")," 啟用想要既地區啦！")))})),oe=E.default.atom({key:"HomeState",default:{selectedDistrict:null,restaurant:[]}}),ae=function(){var e=(0,A.useCoilState)(oe),t=e.getState,n=e.setState;(0,A.useHistory)();return{onMount:function(){var e,t=$.getItem(Q.HOME),r=null!==(e=$.getItem(Q.RESTAURANT))&&void 0!==e?e:[];n((function(e){e.selectedDistrict=t,e.restaurant=r}))},updateState:function(e){n((function(t){return v.ObjectUtil.safeAssign(t,e)})),$.setItem(Q.HOME,JSON.stringify(t().selectedDistrict))}}},le=(0,A.injectLifeCycle)(re,ae),ie=n(2026),ue=n(6729),ce=n(6618),se=function(e){return e(E.default.useRecoilValue(Te))},_e=n(9887),Ne=I.memo((function(e){var t=e.value,n=e.onChange,r=(0,T.useColorModeValue)("white","gray.700");return I.createElement(_e.I,{backgroundColor:r,value:t||"",onChange:function(e){var t=e.target.value;n(t.trim()?t:null)}})})),me=n(1955),fe=n(6),Ee=n(4115),Ae=I.memo((function(e){var t,n,r=e.value,o=e.onChange,a=null!==(n=null===(t=$.getItem(Q.SETTING_DISTRICT))||void 0===t?void 0:t.enabledDistrict)&&void 0!==n?n:[];return 0===a.length?I.createElement(Ee.x,null,"你仲未設定啓用邊幾個地區喎！",I.createElement("br",null),I.createElement(R.r,{to:"/setting/district",as:W.NavLink,color:"yellow.500"},"按此"),"設定番啦"):I.createElement(me.c,{value:r,onChange:o},I.createElement(ie.Ug,{spacing:2,flexWrap:"wrap"},a.map((function(e){return I.createElement(fe.X,{value:e,key:e},Z.translate(e))}))))})),Ie=I.memo((function(){var e,t,n=(0,p.useHistory)(),r=se((function(e){return e.tab})),o=se((function(e){return e.editingData})),a=o.name,l=o.district,i=Se(),u=i.updateEditingData,c=i.createOrUpdateRestaurant,s=i.resetForm,_=null!==(t=null===(e=$.getItem(Q.SETTING_DISTRICT))||void 0===e?void 0:e.enabledDistrict)&&void 0!==t?t:null,N="create"===r?"新增餐廳":"修改餐廳";return I.createElement(S.k,{flexDirection:"column",flex:1,overflow:"hidden",maxH:"100vh"},I.createElement(U.xu,{mt:14,px:6},I.createElement(g.z,{borderRadius:"100%",h:"52px",onClick:n.goBack},I.createElement(y.u1R,{fontSize:"20px"})),I.createElement(L.X,{mt:4},N),I.createElement(ie.gC,{spacing:6,mt:6},I.createElement(ue.NI,{w:"100%"},I.createElement(ce.l,null,"餐廳名稱"),I.createElement(Ne,{value:a,onChange:function(e){return u({name:e})}})),I.createElement(ue.NI,{w:"100%"},I.createElement(ce.l,null,"出現地區"),I.createElement(Ae,{value:l,onChange:function(e){return u({district:e})}})),I.createElement(ie.Ug,{w:"100%"},I.createElement(g.z,{fontWeight:"normal",bgColor:"yellow.500",disabled:null===_||0===_.length,onClick:function(){c()}},"create"===r?"新增":"修改"),I.createElement(g.z,{fontWeight:"normal",onClick:s},"重設")))))})),Oe={name:null,district:[]},de={tab:"create",editingData:Oe,id:null},Te=E.default.atom({key:"RestaurantState",default:de}),Se=function(){var e=(0,A.useCoilState)(Te),t=e.getState,n=e.setState,r=((0,A.useHistory)(),(0,T.useToast)()),o=function(){n((function(e){return e.editingData=Oe}))};return{onRouteMatched:function(e,t){if("update"===e.type){var r=t.state;if(!r)throw new Error("搵唔到餐廳啵");n((function(e){e.editingData=r,e.id=r.id}))}else o(),n((function(e){return e.id=null}));n((function(t){return t.tab=e.type}))},updateEditingData:function(e){n((function(t){return v.ObjectUtil.safeAssign(t.editingData,e)}))},createOrUpdateRestaurant:function(){var e,n=t().editingData,a=n.name,l=n.district,i=t().id;if(!a)throw new Error("未寫咩名啵");if(!l.length)throw new Error("未揀咩地區喎");var u=null!==(e=$.getItem(Q.RESTAURANT))&&void 0!==e?e:[],c=Date.now().toString(),s={name:a,district:l};if(i){var _=u.findIndex((function(e){return e.id===i}));-1===_&&(s.id=c,u.push(s)),s.id=i,u[_]=s,r({status:"success",description:"已更新餐廳",duration:5e3,isClosable:!0,position:"top"})}else{if(u.find((function(e){return e.name.trim()===a.trim()})))throw new Error("有一間同名既餐廳啵");s.id=c,u.push(s),r({status:"success",description:"已新增餐廳",duration:5e3,isClosable:!0,position:"top"})}$.setItem(Q.RESTAURANT,JSON.stringify(u)),o()},resetForm:o}},pe=(0,A.injectLifeCycle)(Ie,Se),ge=n(8193),Ue=I.memo((function(e){var t=e.linkOrAction,n=e.children,r=e.icon,o=e.label,a=(0,A.useHistory)();return I.createElement(S.k,{alignItems:"center",className:"menu-item-container"},r&&I.createElement(U.xu,{pl:4,pr:3,color:"yellow.500"},I.createElement(r,{fontSize:"24px"})),I.createElement(S.k,{onClick:function(e){"string"==typeof t?a.push(t):t&&t()},pl:r?0:4,pr:4,alignItems:"center",flex:1,py:3,justifyContent:"space-between",borderBottomWidth:"1px",className:"menu-item"},I.createElement(S.k,{flex:1,fontSize:"lg"},o),I.createElement(U.xu,{className:"menu-item-children"},n||I.createElement(ge.Td4,null))))})),He=I.memo((function(e){var t=e.children,n=(0,T.useColorModeValue)("gray.100","gray.700");return I.createElement(U.xu,{__css:{".menu-item-container:last-child":{"> .menu-item":{borderBottomWidth:0}}},w:"100%",borderTopWidth:"1px",borderBottomWidth:"1px",backgroundColor:n},t)})),ye=I.memo((function(e){var t=e.value,n=e.onChange;return I.createElement(T.Switch,{size:"lg",isChecked:t,onChange:function(e){n(e.target.checked)}})})),he=n(3750),Ge=I.memo((function(){var e=(0,T.useColorMode)(),t=e.colorMode,n=e.toggleColorMode;return I.createElement(U.xu,null,I.createElement(L.X,{pt:12,px:4,pb:2},"設定"),I.createElement(ie.gC,{spacing:8},I.createElement(He,null,I.createElement(Ue,{label:"地區列表",icon:G.l1f,linkOrAction:"/setting/district"})),I.createElement(He,null,I.createElement(Ue,{icon:he.s1t,label:"黑暗模式"},I.createElement(ye,{value:"dark"===t,onChange:n})),I.createElement(Ue,{label:"關於",icon:y.Qf3,linkOrAction:"/setting/about"}))))})),Ce={},ve="@@EatWhatGoodSetting",Le=E.default.atom({key:"CommonSettingState",default:Ce}),Re=(0,A.injectLifeCycle)(Ge,(function(){var e=(0,A.useCoilState)(Le),t=(e.getState,e.setState);(0,A.useHistory)();return{onRouteMatched:function(e,n){var r=localStorage.getItem(ve);t(r?JSON.parse(r):Ce)}}})),Ke=n(8448),We=I.memo((function(e){var t=e.backText,n=void 0===t?"":t,r=e.title,o=e.rightNode,a=(0,T.useColorModeValue)("gray.100","gray.700"),l=(0,p.useHistory)();return I.createElement(S.k,{position:"sticky",shadow:"md",top:0,alignItems:"center",justifyContent:"center",backgroundColor:a},I.createElement(g.z,{p:0,onClick:function(){l.goBack()},fontWeight:"normal",variant:"link",colorScheme:"blue",position:"absolute",left:4,fontSize:"md",top:"50%",transform:"translateY(-50%)"},I.createElement(y.u1R,{fontSize:"20px"})," ",n),I.createElement(Ee.x,{fontSize:"md",fontWeight:"medium",py:3},r),o&&I.createElement(Ke.M,{position:"absolute",right:4,top:"50%",transform:"translateY(-50%)"},o))})),Me=function(e){return e(E.default.useRecoilValue(ke))},be=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l},xe=I.memo((function(e){var t,n=e.title,r=e.list,o=e.defaultOpen,a=void 0!==o&&o,l=Me((function(e){return e.enabledDistrict})),i=Pe().onSelectDistrict,u=be(I.useState(!a),2),c=u[0],s=u[1],_=I.useRef(null),N={height:c?0:null===(t=_.current)||void 0===t?void 0:t.scrollHeight,transition:"height 0.3s ease-in-out",overflow:"hidden"};return I.createElement(U.xu,{w:"100%"},I.createElement(S.k,{justifyContent:"space-between",px:4,py:1,onClick:function(){return s(!c)}},I.createElement(Ee.x,null,n),I.createElement(he.fmn,{style:{transform:c?void 0:"rotate(90deg)",transition:"transform 0.15s ease-in-out"}})),I.createElement(U.xu,{ref:_,style:N},I.createElement(He,null,r.map((function(e){return I.createElement(Ue,{label:Z.translate(e),key:e},I.createElement(ye,{onChange:function(){return i(e)},value:l.includes(e)}))})))))})),De=n(4578),we=I.memo((function(){var e=Me((function(e){return e.displayMode})),t=Pe().changeDisplayMode;return I.createElement(U.xu,null,I.createElement(We,{title:"地區列表",backText:"設定",rightNode:I.createElement(g.z,{onClick:function(){t("area"===e?"line":"area")},variant:"link",p:0,colorScheme:"blue"},I.createElement(De.Cx4,{fontSize:"24px"}))}),"area"===e?I.createElement(ie.gC,{spacing:6,mt:6},I.createElement(xe,{defaultOpen:!0,list:Z.getIslandLocation(),title:"港島"}),I.createElement(xe,{list:Z.getKowloonLocation(),title:"九龍"}),I.createElement(xe,{list:Z.getNewTerritoriesLocation(),title:"新界"})):I.createElement(ie.gC,{spacing:6,mt:6},I.createElement(xe,{defaultOpen:!0,list:Z.getTsuenWanLine(),title:"荃灣綫"}),I.createElement(xe,{list:Z.getIslandLine(),title:"港島綫"}),I.createElement(xe,{list:Z.getKwunTongLine(),title:"觀塘綫"}),I.createElement(xe,{list:Z.getEastRailLine(),title:"東鐵綫"}),I.createElement(xe,{list:Z.getTungChungLine(),title:"東涌綫"}),I.createElement(xe,{list:Z.getWestRailLine(),title:"西鐵綫"}),I.createElement(xe,{list:Z.getTseungKwanOLine(),title:"將軍澳綫"}),I.createElement(xe,{list:Z.getTuenMaLinePhaseOne(),title:"屯馬綫一期"}),I.createElement(xe,{list:Z.getSouthIslandLine(),title:"南港島綫"}),I.createElement(xe,{list:Z.getDisneylandResortLine(),title:"迪士尼綫"}),I.createElement(xe,{list:Z.getAirportExpressLine(),title:"機場快綫"})))})),Ye={enabledDistrict:[],displayMode:"area"},ke=E.default.atom({key:"SettingDistrictState",default:Ye}),Pe=function(){var e=(0,A.useCoilState)(ke),t=e.getState,n=e.setState,r=((0,A.useHistory)(),function(){var e=JSON.stringify(t());$.setItem(Q.SETTING_DISTRICT,e)});return{onRouteMatched:function(e,t){var r,o=null!==(r=$.getItem(Q.SETTING_DISTRICT))&&void 0!==r?r:Ye;n(o)},onSelectDistrict:function(e){n((function(t){t.enabledDistrict.includes(e)?t.enabledDistrict=t.enabledDistrict.filter((function(t){return t!==e})):t.enabledDistrict.push(e)})),r()},changeDisplayMode:function(e){n((function(t){return t.displayMode=e})),r()}}},je=(0,A.injectLifeCycle)(we,Pe),Fe=n(7101),ze=function(e){return e(E.default.useRecoilValue(tt))},Be=I.memo((function(){var e=ze((function(e){return e.filter})),t=e.name,n=e.district,r=nt(),o=r.updateFilter,a=r.resetFilter,l=r.pushFilterToHistory;return I.createElement(S.k,{mt:2,flexWrap:"wrap"},I.createElement(S.k,{w:"50%",pr:3},I.createElement(ue.NI,null,I.createElement(ce.l,null,"餐廳名稱"),I.createElement(Ne,{value:t,onChange:function(e){return o({name:e})}}))),I.createElement(S.k,{w:"50%"},I.createElement(ue.NI,null,I.createElement(ce.l,null,"出現地區"),I.createElement(te,{allowNull:!0,value:n,onChange:function(e){return o({district:e})}}))),I.createElement(S.k,{flex:1,justifyContent:"flex-end",mt:2},I.createElement(Fe.h,null,I.createElement(g.z,{bgColor:"yellow.500",onClick:function(){return l()}},"搜尋"),I.createElement(g.z,{onClick:a},"重設"))))})),Ve=n(6669),Je=I.memo((function(){var e=nt(),t=e.closeModal,n=e.navigateToUpdate,r=e.deleteRestaurant;return I.createElement(Ve.u_,{isOpen:!0,onClose:t,size:"xs",isCentered:!0},I.createElement(Ve.ZA,null),I.createElement(T.ModalContent,{textAlign:"center",py:2,w:"50%"},I.createElement(ie.gC,{spacing:0,divider:I.createElement(ie.cX,{mx:4})},I.createElement(Ee.x,{py:2},"動作"),I.createElement(g.z,{variant:"ghost",isFullWidth:!0,borderRadius:"0",_focus:{boxShadow:"none"},fontWeight:"normal",onClick:n},"編輯"),I.createElement(g.z,{variant:"ghost",isFullWidth:!0,borderRadius:"0",_focus:{boxShadow:"none"},fontWeight:"normal",colorScheme:"red",onClick:r},"刪除"),I.createElement(g.z,{variant:"ghost",isFullWidth:!0,borderRadius:"0",_focus:{boxShadow:"none"},fontWeight:"normal",onClick:t},"取消"))))})),Xe=I.memo((function(e){var t=e.district,n=(0,T.useColorModeValue)("gray.100","gray.700"),r=ze((function(e){return e.restaurants.filter((function(e){return e.district.includes(t)}))})),o=ze((function(e){return null!==e.openedItem})),a=nt().openModal;return I.createElement(U.xu,{position:"relative"},I.createElement(U.xu,{position:"sticky",zIndex:1,px:4,py:1,top:0,backgroundColor:n},I.createElement(Ee.x,{fontWeight:"medium"},Z.translate(t))),I.createElement(ie.gC,{spacing:0,divider:I.createElement(ie.cX,{mx:4})},r.length?r.map((function(e){return I.createElement(g.z,{key:e.id,isFullWidth:!0,variant:"ghost",justifyContent:"flex-start",fontWeight:"normal",px:4,h:8,borderRadius:"0",_focus:{boxShadow:"none"},onClick:function(){return a(e)}},e.name)})):I.createElement(Ee.x,{w:"100%",px:4},"沒有餐廳")),o&&I.createElement(Je,null))})),Qe=I.memo((function(){var e=ze((function(e){return e.enabledDistrict}));return I.createElement(U.xu,{maxH:"50vh",overflowY:"scroll"},e.map((function(e){return I.createElement(Xe,{district:e,key:e})})))})),Ze=I.memo((function(){return I.createElement(S.k,{flexDirection:"column",flex:1,overflowY:"scroll",maxH:"calc(100vh - 90px)"},I.createElement(U.xu,{mt:14,px:4,pb:4},I.createElement(L.X,null,"餐廳列表"),I.createElement(Be,null)),I.createElement(Qe,null))})),qe=function(){return(qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},$e={name:null,district:null},et={enabledDistrict:[],restaurants:[],filter:$e,openedItem:null},tt=E.default.atom({key:"ListState",default:et}),nt=function(){var e=(0,A.useCoilState)(tt),t=e.getState,n=e.setState,r=(0,A.useHistory)(),o=function(e){void 0===e&&(e={});var n=qe(qe({},t().filter),e);r.pushHistory(n)},a=function(e){n((function(t){return v.ObjectUtil.safeAssign(t.filter,e)}))},l=function(){n((function(e){return e.openedItem=null}))},i=function(){var e,r,o=t().filter.district,a=(null!==(r=null===(e=$.getItem(Q.SETTING_DISTRICT))||void 0===e?void 0:e.enabledDistrict)&&void 0!==r?r:[]).filter((function(e){return!o||e===o}));n((function(e){return e.enabledDistrict=a}))},u=function(){var e,r=t().filter,o=r.name,a=r.district,l=(null!==(e=$.getItem(Q.RESTAURANT))&&void 0!==e?e:[]).filter((function(e){return!o||e.name.includes(o)})).filter((function(e){return!a||e.district.includes(a)}));n((function(e){e.restaurants=l}))};return{onRouteMatched:function(e,t){var n,r=null!==(n=t.state)&&void 0!==n?n:$e;a(r),u(),i()},pushFilterToHistory:o,updateFilter:a,resetFilter:function(){o($e)},openModal:function(e){n((function(t){return t.openedItem=e}))},closeModal:l,navigateToUpdate:function(){var e=t().openedItem;e&&(l(),r.pushHistory("/restaurant/update",e))},deleteRestaurant:function(){var e,n=t().openedItem;if(n){var r=(null!==(e=$.getItem(Q.RESTAURANT))&&void 0!==e?e:[]).filter((function(e){return e.id!==n.id}));$.setItem(Q.RESTAURANT,JSON.stringify(r)),l(),u()}}}},rt=(0,A.injectLifeCycle)(Ze,nt),ot=n(8482),at="Version 1.0.1",lt=I.memo((function(){var e,t,r,o=Z.getAllLocation(),a=null!==(t=null===(e=$.getItem(Q.SETTING_DISTRICT))||void 0===e?void 0:e.enabledDistrict)&&void 0!==t?t:[],l=null!==(r=$.getItem(Q.RESTAURANT))&&void 0!==r?r:[],i=(0,T.useColorModeValue)("gray.100","gray.700");return I.createElement(U.xu,null,I.createElement(We,{title:"關於",backText:"設定"}),I.createElement(ie.gC,{spacing:8,mt:8},I.createElement(U.xu,{backgroundColor:i,borderTopWidth:"1px",borderBottomWidth:"1px",px:4,py:3,w:"100%"},I.createElement(S.k,null,I.createElement(ot.E,{w:"80px",h:"80px",src:n(5267)}),I.createElement(S.k,{flexDirection:"column",justifyContent:"space-around"},I.createElement(Ee.x,{fontSize:"lg",fontWeight:"medium"},"食咩好"),I.createElement(Ee.x,{fontSize:"sm"},"Eat What Good"),I.createElement(Ee.x,{fontSize:"sm"},at))),I.createElement(Ee.x,{mt:2},I.createElement(Ee.x,{fontWeight:"medium",d:"inline"},"食咩好")," ","是為解決日常飲食抉擇的人而設的，用戶可自行輸入、設定、管理不同地區及不同餐廳，以『 一鍵 』的方式為用戶選出合適餐廳。"),I.createElement(Ee.x,{mt:2},"如需開放來源碼的資料，請到訪此網站：",I.createElement(R.r,{target:"__blank",color:"yellow.500",href:"https://github.com/Jamyth/EatWhatGood"},"https://github.com/Jamyth/EatWhatGood"))),I.createElement(He,null,I.createElement(Ue,{label:"名稱"},"食咩好"),I.createElement(Ue,{label:"名稱 (英文)"},"Eat What Good"),I.createElement(Ue,{label:"版本"},at),I.createElement(Ue,{label:"開發員"},"Jamyth Luk")),I.createElement(He,null,I.createElement(Ue,{label:"餐廳數目"},l.length+" 間"),I.createElement(Ue,{label:"已啓用地區數目"},a.length+" 個"),I.createElement(Ue,{label:"總地區數目"},o.length+" 個"))))})),it=E.default.atom({key:"SettingAboutState",default:{}}),ut={"/":{component:le},"/restaurant/:type(create|update)":{component:pe},"/setting":{component:Re},"/setting/district":{component:je},"/list":{component:rt},"/setting/about":{component:(0,A.injectLifeCycle)(lt,(function(){var e=(0,A.useCoilState)(it);e.getState,e.setState,(0,A.useHistory)();return{onMount:function(){},onRouteMatched:function(e,t){}}}))}},ct=I.memo((function(){var e=(0,T.useColorModeValue)("gray.200","gray.800");return I.createElement(S.k,{backgroundColor:e,minH:"100vh",pb:"90px",flexDirection:"column"},I.createElement(p.Switch,null,v.ObjectUtil.toArray(ut,(function(e,t){var n=t.component;return I.createElement(p.Route,{exact:!0,path:e,component:n,key:e})})),I.createElement(p.Redirect,{to:"/"})),I.createElement(C,null))})),st=I.memo((function(){return I.createElement(O.x,null,I.createElement(d.S,null),I.createElement(ct,null))})),_t=E.default.atom({key:"MainState",default:{}}),Nt=function(){var e=(0,A.useCoilState)(_t);e.getState,e.setState,(0,A.useHistory)();return{onMount:function(){},onRouteMatched:function(e,t){}}},mt=(0,A.injectLifeCycle)(st,Nt)},5267:function(e,t,n){"use strict";e.exports=n.p+"8db1bb2901d37b8991b1.png"}}]);